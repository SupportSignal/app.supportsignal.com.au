<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SupportSignal UI Spikes - Side-by-Side Comparison</title>
    
    <!-- SupportSignal Healthcare Styles -->
    <link rel="stylesheet" href="./styles.css">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Configure Tailwind with SupportSignal colors
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ss-teal': { light: '#3CD7C4', DEFAULT: '#2CC4B7', deep: '#1798A2' },
                        'ss-navy': '#0C2D55',
                        'ss-cta-blue': '#287BCB',
                        'ss-success': '#27AE60',
                        'healthcare': { primary: '#0C2D55', background: '#F4F7FA', surface: '#FFFFFF' },
                    },
                    spacing: { 'ss-xs': '0.5rem', 'ss-sm': '0.75rem', 'ss-md': '1rem', 'ss-lg': '1.5rem', 'ss-xl': '2rem' },
                }
            }
        }
    </script>
    
    <!-- Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <style>
        .comparison-iframe {
            width: 100%;
            min-height: 600px;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            background: white;
            transition: border-color 0.2s ease;
        }
        
        .comparison-iframe:hover {
            border-color: var(--ss-teal);
        }
        
        .comparison-iframe.active {
            border-color: var(--ss-teal);
            box-shadow: 0 0 0 3px rgba(44, 196, 183, 0.1);
        }
        
        .viewport-controls button {
            padding: 0.5rem 1rem;
            border: 1px solid #d1d5db;
            background: white;
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s ease;
        }
        
        .viewport-controls button:hover {
            background: #f3f4f6;
        }
        
        .viewport-controls button.active {
            background: var(--ss-teal);
            color: white;
            border-color: var(--ss-teal);
        }
        
        .spike-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            overflow: hidden;
            transition: all 0.2s ease;
        }
        
        .spike-card:hover {
            border-color: var(--ss-teal);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .spike-header {
            background: #f8fafc;
            border-bottom: 1px solid #e5e7eb;
            padding: 1rem;
        }
        
        .comparison-grid {
            display: grid;
            gap: 1.5rem;
        }
        
        .comparison-grid.layout-single { grid-template-columns: 1fr; }
        .comparison-grid.layout-side { grid-template-columns: 1fr 1fr; }
        .comparison-grid.layout-triple { grid-template-columns: repeat(3, 1fr); }
        .comparison-grid.layout-quad { grid-template-columns: repeat(2, 1fr); }
        
        @media (max-width: 768px) {
            .comparison-grid { grid-template-columns: 1fr !important; }
        }
        
        .fullscreen-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        .fullscreen-iframe {
            width: 95vw;
            height: 90vh;
            border: none;
            border-radius: 0.5rem;
            background: white;
        }
    </style>
</head>
<body class="min-h-screen bg-healthcare-background font-healthcare">
    
    <!-- Header -->
    <header class="bg-ss-navy text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-ss-lg py-ss-lg">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-ss-md">
                    <div class="w-10 h-10 bg-gradient-to-r from-ss-teal-light to-ss-teal-deep rounded-lg flex items-center justify-center">
                        <span class="font-bold text-white text-xl">SS</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">UI Spikes Comparison</h1>
                        <p class="text-sm text-gray-300">Side-by-side component testing</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-ss-sm">
                    <button onclick="refreshAll()" class="ss-btn ss-btn-outline text-white border-white hover:bg-white hover:text-ss-navy">
                        <i data-lucide="refresh-cw" class="w-4 h-4 mr-2"></i>
                        Refresh All
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Controls -->
    <section class="bg-healthcare-surface border-b border-gray-200 py-ss-lg">
        <div class="max-w-7xl mx-auto px-ss-lg">
            
            <!-- Layout Controls -->
            <div class="flex flex-wrap items-center justify-between gap-ss-md mb-ss-lg">
                <div class="flex items-center gap-ss-md">
                    <span class="healthcare-sm font-semibold text-healthcare-primary">Layout:</span>
                    <div class="viewport-controls flex gap-2">
                        <button onclick="setLayout('single')" class="active" id="layout-single">
                            <i data-lucide="square" class="w-4 h-4 mr-1"></i>
                            Single
                        </button>
                        <button onclick="setLayout('side')" id="layout-side">
                            <i data-lucide="columns" class="w-4 h-4 mr-1"></i>
                            Side-by-Side
                        </button>
                        <button onclick="setLayout('triple')" id="layout-triple">
                            <i data-lucide="grid-3x3" class="w-4 h-4 mr-1"></i>
                            Triple
                        </button>
                        <button onclick="setLayout('quad')" id="layout-quad">
                            <i data-lucide="grid-2x2" class="w-4 h-4 mr-1"></i>
                            Quad
                        </button>
                    </div>
                </div>
                
                <!-- Viewport Controls -->
                <div class="flex items-center gap-ss-md">
                    <span class="healthcare-sm font-semibold text-healthcare-primary">Viewport:</span>
                    <div class="viewport-controls flex gap-2">
                        <button onclick="setViewport('desktop')" class="active" id="viewport-desktop">
                            <i data-lucide="monitor" class="w-4 h-4 mr-1"></i>
                            Desktop
                        </button>
                        <button onclick="setViewport('tablet')" id="viewport-tablet">
                            <i data-lucide="tablet" class="w-4 h-4 mr-1"></i>
                            Tablet
                        </button>
                        <button onclick="setViewport('mobile')" id="viewport-mobile">
                            <i data-lucide="smartphone" class="w-4 h-4 mr-1"></i>
                            Mobile
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Spike Selection -->
            <div class="flex flex-wrap items-center gap-ss-md">
                <span class="healthcare-sm font-semibold text-healthcare-primary">Compare:</span>
                <div class="flex flex-wrap gap-2" id="spike-toggles">
                    <!-- Dynamically populated -->
                </div>
                <button onclick="addCustomSpike()" class="ss-btn ss-btn-outline text-sm">
                    <i data-lucide="plus" class="w-4 h-4 mr-1"></i>
                    Add Custom URL
                </button>
            </div>
            
        </div>
    </section>

    <!-- Comparison Area -->
    <main class="max-w-7xl mx-auto p-ss-lg">
        
        <!-- No Spikes Selected State -->
        <div id="empty-state" class="text-center py-12">
            <div class="w-16 h-16 bg-ss-teal/10 rounded-full flex items-center justify-center mx-auto mb-ss-md">
                <i data-lucide="layout-grid" class="w-8 h-8 text-ss-teal"></i>
            </div>
            <h2 class="header-h2 text-healthcare-primary mb-ss-sm">Select Spikes to Compare</h2>
            <p class="healthcare-base text-gray-600 max-w-md mx-auto">
                Choose one or more UI spikes from the controls above to see them side-by-side. 
                Perfect for comparing different approaches to the same component.
            </p>
        </div>
        
        <!-- Comparison Grid -->
        <div id="comparison-grid" class="comparison-grid layout-side" style="display: none;"></div>
        
    </main>

    <!-- Fullscreen Overlay -->
    <div id="fullscreen-overlay" class="fullscreen-overlay">
        <iframe id="fullscreen-iframe" class="fullscreen-iframe"></iframe>
        <button onclick="exitFullscreen()" class="absolute top-4 right-4 bg-white text-gray-800 p-2 rounded-full hover:bg-gray-100">
            <i data-lucide="x" class="w-6 h-6"></i>
        </button>
    </div>

    <script>
        // Available spikes configuration
        const AVAILABLE_SPIKES = [
            {
                id: 'wizard-basic',
                name: 'Basic Wizard',
                path: './wizard/version-01-basic.html',
                description: 'Simple step-by-step wizard with minimal features',
                category: 'wizard'
            },
            {
                id: 'wizard-minimal',
                name: 'Minimal Wizard',
                path: './wizard/version-02-minimal.html',
                description: 'Stripped-down version for mobile/embedded use',
                category: 'wizard'
            },
            {
                id: 'wizard-cards',
                name: 'Card-Based Wizard',
                path: './wizard/version-03-cards.html',
                description: 'Card layout with enhanced visual hierarchy',
                category: 'wizard'
            },
            {
                id: 'template',
                name: 'Template Example',
                path: './_template.html',
                description: 'Base template showing SupportSignal styling',
                category: 'template'
            }
            // Add more spikes as they are created
        ];

        // State management
        let currentLayout = 'side';
        let currentViewport = 'desktop';
        let activeSpikeIds = [];
        let customSpikes = [];

        // Viewport dimensions
        const VIEWPORT_SIZES = {
            desktop: { width: '100%', height: '600px' },
            tablet: { width: '768px', height: '1024px' },
            mobile: { width: '375px', height: '667px' }
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
            initializeSpikeToggles();
            updateComparison();
        });

        // Initialize spike toggle buttons
        function initializeSpikeToggles() {
            const container = document.getElementById('spike-toggles');
            
            // Group spikes by category
            const categories = [...new Set(AVAILABLE_SPIKES.map(s => s.category))];
            
            categories.forEach(category => {
                const categorySpikes = AVAILABLE_SPIKES.filter(s => s.category === category);
                
                // Add category label if more than one category
                if (categories.length > 1) {
                    const label = document.createElement('span');
                    label.className = 'healthcare-xs font-semibold text-gray-500 uppercase tracking-wide px-2';
                    label.textContent = category;
                    container.appendChild(label);
                }
                
                // Add spike toggles
                categorySpikes.forEach(spike => {
                    const button = document.createElement('button');
                    button.className = 'viewport-controls text-sm';
                    button.id = `spike-${spike.id}`;
                    button.title = spike.description;
                    button.innerHTML = `<i data-lucide="file-text" class="w-4 h-4 mr-1"></i>${spike.name}`;
                    button.onclick = () => toggleSpike(spike.id);
                    container.appendChild(button);
                });
            });
            
            lucide.createIcons();
        }

        // Toggle spike selection
        function toggleSpike(spikeId) {
            const index = activeSpikeIds.indexOf(spikeId);
            if (index > -1) {
                activeSpikeIds.splice(index, 1);
            } else {
                activeSpikeIds.push(spikeId);
            }
            
            updateSpikeButtons();
            updateComparison();
        }

        // Update spike button states
        function updateSpikeButtons() {
            AVAILABLE_SPIKES.forEach(spike => {
                const button = document.getElementById(`spike-${spike.id}`);
                if (activeSpikeIds.includes(spike.id)) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
        }

        // Set layout mode
        function setLayout(layout) {
            currentLayout = layout;
            
            // Update button states
            document.querySelectorAll('[id^="layout-"]').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`layout-${layout}`).classList.add('active');
            
            updateComparison();
        }

        // Set viewport size
        function setViewport(viewport) {
            currentViewport = viewport;
            
            // Update button states
            document.querySelectorAll('[id^="viewport-"]').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`viewport-${viewport}`).classList.add('active');
            
            updateComparison();
        }

        // Update comparison display
        function updateComparison() {
            const emptyState = document.getElementById('empty-state');
            const comparisonGrid = document.getElementById('comparison-grid');
            
            if (activeSpikeIds.length === 0) {
                emptyState.style.display = 'block';
                comparisonGrid.style.display = 'none';
                return;
            }
            
            emptyState.style.display = 'none';
            comparisonGrid.style.display = 'block';
            
            // Update grid layout class
            comparisonGrid.className = `comparison-grid layout-${currentLayout}`;
            
            // Get selected spikes
            const selectedSpikes = [
                ...AVAILABLE_SPIKES.filter(s => activeSpikeIds.includes(s.id)),
                ...customSpikes.filter(s => activeSpikeIds.includes(s.id))
            ];
            
            // Generate comparison cards
            comparisonGrid.innerHTML = selectedSpikes.map(spike => 
                createSpikeCard(spike)
            ).join('');
            
            // Re-initialize icons
            lucide.createIcons();
        }

        // Create spike comparison card
        function createSpikeCard(spike) {
            const size = VIEWPORT_SIZES[currentViewport];
            
            return `
                <div class="spike-card">
                    <div class="spike-header">
                        <div class="flex items-center justify-between mb-ss-sm">
                            <h3 class="healthcare-lg font-semibold text-healthcare-primary">${spike.name}</h3>
                            <div class="flex items-center gap-2">
                                <button onclick="openFullscreen('${spike.path}')" 
                                        class="p-1 text-gray-500 hover:text-ss-teal transition-colors"
                                        title="Open fullscreen">
                                    <i data-lucide="maximize" class="w-4 h-4"></i>
                                </button>
                                <button onclick="removeSpike('${spike.id}')" 
                                        class="p-1 text-gray-500 hover:text-red-500 transition-colors"
                                        title="Remove from comparison">
                                    <i data-lucide="x" class="w-4 h-4"></i>
                                </button>
                            </div>
                        </div>
                        <p class="healthcare-sm text-gray-600">${spike.description}</p>
                        <div class="flex items-center gap-ss-sm mt-ss-sm">
                            <div class="ss-badge ss-badge-secondary">${currentViewport}</div>
                            <a href="${spike.path}" target="_blank" 
                               class="healthcare-xs text-ss-teal hover:underline">
                                Open in new tab â†—
                            </a>
                        </div>
                    </div>
                    <div class="p-ss-sm bg-gray-50">
                        <iframe src="${spike.path}" 
                                class="comparison-iframe"
                                style="width: ${size.width}; height: ${size.height}; max-width: 100%;"
                                title="${spike.name} preview"></iframe>
                    </div>
                </div>
            `;
        }

        // Remove spike from comparison
        function removeSpike(spikeId) {
            toggleSpike(spikeId);
        }

        // Open spike in fullscreen
        function openFullscreen(path) {
            const overlay = document.getElementById('fullscreen-overlay');
            const iframe = document.getElementById('fullscreen-iframe');
            
            iframe.src = path;
            overlay.style.display = 'flex';
        }

        // Exit fullscreen
        function exitFullscreen() {
            const overlay = document.getElementById('fullscreen-overlay');
            const iframe = document.getElementById('fullscreen-iframe');
            
            overlay.style.display = 'none';
            iframe.src = '';
        }

        // Add custom spike URL
        function addCustomSpike() {
            const url = prompt('Enter the URL or path to your custom spike:');
            if (!url) return;
            
            const name = prompt('Enter a name for this spike:', `Custom Spike ${customSpikes.length + 1}`);
            if (!name) return;
            
            const description = prompt('Enter a description (optional):', 'Custom spike implementation') || 'Custom spike implementation';
            
            const customSpike = {
                id: `custom-${Date.now()}`,
                name: name,
                path: url,
                description: description,
                category: 'custom'
            };
            
            customSpikes.push(customSpike);
            
            // Add button for custom spike
            const container = document.getElementById('spike-toggles');
            const button = document.createElement('button');
            button.className = 'viewport-controls text-sm';
            button.id = `spike-${customSpike.id}`;
            button.title = customSpike.description;
            button.innerHTML = `<i data-lucide="link" class="w-4 h-4 mr-1"></i>${customSpike.name}`;
            button.onclick = () => toggleSpike(customSpike.id);
            container.appendChild(button);
            
            lucide.createIcons();
            
            // Auto-select the new spike
            toggleSpike(customSpike.id);
        }

        // Refresh all iframes
        function refreshAll() {
            document.querySelectorAll('.comparison-iframe').forEach(iframe => {
                iframe.src = iframe.src;
            });
        }

        // Handle fullscreen overlay clicks
        document.getElementById('fullscreen-overlay').addEventListener('click', function(e) {
            if (e.target === this) {
                exitFullscreen();
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('fullscreen-overlay').style.display === 'flex') {
                exitFullscreen();
            }
            
            if (e.key === 'F5' || (e.ctrlKey && e.key === 'r')) {
                e.preventDefault();
                refreshAll();
            }
        });
    </script>
    
</body>
</html>

<!--
COMPARISON VIEWER USAGE:

1. ADDING NEW SPIKES:
   - Add entries to AVAILABLE_SPIKES array in JavaScript
   - Include: id, name, path, description, category
   - Buttons will be generated automatically

2. LAYOUT OPTIONS:
   - Single: One spike at a time
   - Side-by-Side: Two spikes for direct comparison  
   - Triple: Three spikes in a row
   - Quad: Four spikes in 2x2 grid

3. VIEWPORT TESTING:
   - Desktop: Full width iframes
   - Tablet: 768px width simulation
   - Mobile: 375px width simulation

4. FEATURES:
   - Fullscreen view for detailed inspection
   - Direct links to open spikes in new tabs
   - Custom URL support for external spikes
   - Refresh all iframes simultaneously
   - Keyboard shortcuts (Escape, F5)

5. CUSTOMIZATION:
   - Modify AVAILABLE_SPIKES to match your spike files
   - Adjust VIEWPORT_SIZES for different screen sizes
   - Update categories to organize your spikes

SOURCE: SupportSignal UI Spikes Comparison Tool
LAST UPDATED: 2025-01-08
-->