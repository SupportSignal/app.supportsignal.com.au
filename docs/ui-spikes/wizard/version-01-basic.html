<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SupportSignal Wizard - Basic Version</title>
    
    <!-- SupportSignal Healthcare Styles -->
    <link rel="stylesheet" href="../styles.css">
    
    <!-- Tailwind CSS CDN (for additional utilities) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Configure Tailwind to use our SupportSignal color palette
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // SupportSignal Brand Colors
                        'ss-teal': {
                            light: '#3CD7C4',
                            DEFAULT: '#2CC4B7',
                            deep: '#1798A2',
                        },
                        'ss-navy': '#0C2D55',
                        'ss-bg-grey': '#F4F7FA',
                        'ss-cta-blue': '#287BCB',
                        'ss-success': '#27AE60',
                        'ss-alert': '#F2C94C',
                        
                        // Healthcare Semantic Colors
                        'healthcare': {
                            primary: '#0C2D55',
                            accent: '#2CC4B7',
                            success: '#27AE60',
                            warning: '#F2C94C',
                            background: '#F4F7FA',
                            surface: '#FFFFFF',
                        },
                        
                        // Workflow Status Colors
                        'workflow': {
                            draft: '#6B7280',
                            progress: '#287BCB',
                            completed: '#27AE60',
                            alert: '#F2C94C',
                        },
                    },
                    fontFamily: {
                        'healthcare': ['Inter', 'system-ui', 'sans-serif'],
                    },
                    fontSize: {
                        'healthcare-xs': ['0.75rem', { lineHeight: '1.25', letterSpacing: '0.025em' }],
                        'healthcare-sm': ['0.875rem', { lineHeight: '1.5', letterSpacing: '0.025em' }],
                        'healthcare-base': ['1rem', { lineHeight: '1.6', letterSpacing: '0.0125em' }],
                        'healthcare-lg': ['1.125rem', { lineHeight: '1.6', letterSpacing: '0.0125em' }],
                        'header-h1': ['2.25rem', { lineHeight: '1.2', fontWeight: '700', letterSpacing: '-0.025em' }],
                        'header-h2': ['1.875rem', { lineHeight: '1.3', fontWeight: '600', letterSpacing: '-0.025em' }],
                        'header-h3': ['1.25rem', { lineHeight: '1.4', fontWeight: '600', letterSpacing: '-0.0125em' }],
                    },
                    spacing: {
                        'ss-xs': '0.5rem',
                        'ss-sm': '0.75rem',
                        'ss-md': '1rem',
                        'ss-lg': '1.5rem',
                        'ss-xl': '2rem',
                        'ss-2xl': '3rem',
                        'ss-3xl': '4rem',
                    },
                    maxWidth: {
                        'ss-content': '87.5rem',
                        'ss-form': '32rem',
                        'ss-card': '24rem',
                    },
                }
            }
        }
    </script>
    
    <!-- Inter Font for Healthcare Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons for UI elements -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <style>
        /* Hide all steps except the first one initially */
        [data-step] {
            display: none;
        }
        [data-step="1"] {
            display: block;
        }
    </style>
</head>
<body class="min-h-screen bg-healthcare-background font-healthcare text-healthcare-primary">
    
    <!-- SupportSignal Header -->
    <header class="bg-ss-navy text-white shadow-lg">
        <div class="max-w-ss-content mx-auto px-ss-lg py-ss-lg">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-ss-md">
                    <!-- SupportSignal Logo -->
                    <div class="w-10 h-10 bg-gradient-to-r from-ss-teal-light to-ss-teal-deep rounded-lg flex items-center justify-center">
                        <span class="font-bold text-white text-xl">SS</span>
                    </div>
                    <div>
                        <h1 class="text-header-h3 font-bold text-white">Incident Report Wizard</h1>
                        <p class="text-healthcare-sm text-gray-300">Where insight meets action</p>
                    </div>
                </div>
                
                <!-- Optional navigation/controls -->
                <div class="flex items-center gap-ss-sm">
                    <button class="ss-btn ss-btn-outline text-white border-white hover:bg-white hover:text-ss-navy">
                        Back to Spikes
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="max-w-ss-content mx-auto p-ss-lg">
        
        <!-- Page Title Section -->
        <section class="ss-section text-center">
            <h1 class="header-h1 text-healthcare-primary mb-ss-sm">
                Wizard Component - Basic Version
            </h1>
            <p class="healthcare-lg text-gray-600">
                A 4-step incident reporting wizard with progressive disclosure and validation
            </p>
        </section>

        <!-- Wizard Container -->
        <section class="ss-section">
            <div class="healthcare-card max-w-4xl mx-auto">
                
                <!-- Progress Bar -->
                <div class="mb-ss-lg">
                    <div class="flex justify-between text-healthcare-sm text-gray-600 mb-ss-sm">
                        <span class="step-counter">Step 1 of 4</span>
                        <span class="progress-percentage">25% Complete</span>
                    </div>
                    <div class="ss-progress">
                        <div class="ss-progress-bar" style="width: 25%"></div>
                    </div>
                </div>

                <!-- Step Navigation Indicators -->
                <div class="flex items-center justify-center space-x-ss-sm mb-ss-lg" id="step-indicators">
                    <!-- Step 1: Current -->
                    <div class="w-8 h-8 rounded-full bg-ss-teal text-white flex items-center justify-center text-sm font-semibold">
                        1
                    </div>
                    <div class="w-8 h-0.5 bg-gray-300"></div>
                    
                    <!-- Step 2: Upcoming -->
                    <div class="w-8 h-8 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm font-semibold">
                        2
                    </div>
                    <div class="w-8 h-0.5 bg-gray-300"></div>
                    
                    <!-- Step 3: Upcoming -->
                    <div class="w-8 h-8 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm font-semibold">
                        3
                    </div>
                    <div class="w-8 h-0.5 bg-gray-300"></div>
                    
                    <!-- Step 4: Upcoming -->
                    <div class="w-8 h-8 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm font-semibold">
                        4
                    </div>
                </div>

                <!-- Step 1: Basic Details -->
                <div data-step="1">
                    <h2 class="header-h2 text-healthcare-primary mb-ss-lg text-center">Basic Details</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-ss-md">
                        <div class="mb-ss-md">
                            <label class="block healthcare-sm font-medium text-healthcare-primary mb-2">
                                Participant Name *
                            </label>
                            <input type="text" class="ss-input" placeholder="Enter participant name" required id="participantName">
                        </div>

                        <div class="mb-ss-md">
                            <label class="block healthcare-sm font-medium text-healthcare-primary mb-2">
                                Location *
                            </label>
                            <input type="text" class="ss-input" placeholder="Enter location where incident occurred" required id="location">
                        </div>
                    </div>

                    <div class="mb-ss-md">
                        <label class="block healthcare-sm font-medium text-healthcare-primary mb-2">
                            Date & Time
                        </label>
                        <input type="datetime-local" class="ss-input max-w-md" id="dateTime">
                    </div>
                </div>

                <!-- Step 2: Incident Description -->
                <div data-step="2">
                    <h2 class="header-h2 text-healthcare-primary mb-ss-lg text-center">Incident Description</h2>
                    
                    <div class="mb-ss-md">
                        <label class="block healthcare-sm font-medium text-healthcare-primary mb-2">
                            Incident Description *
                        </label>
                        <textarea class="ss-input" rows="4" placeholder="Describe what happened..." id="description"></textarea>
                    </div>

                    <div class="mb-ss-md">
                        <label class="block healthcare-sm font-medium text-healthcare-primary mb-2">
                            Supporting Documentation
                        </label>
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-ss-lg text-center">
                            <p class="healthcare-sm text-gray-600">
                                File upload placeholder - Click to attach files
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Assessment -->
                <div data-step="3">
                    <h2 class="header-h2 text-healthcare-primary mb-ss-lg text-center">Assessment</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-ss-lg">
                        <div class="mb-ss-md">
                            <label class="block healthcare-sm font-medium text-healthcare-primary mb-2">Severity Level</label>
                            <div class="space-y-ss-sm">
                                <label class="flex items-center">
                                    <input type="radio" name="severity" value="low" class="mr-2">
                                    <span>Low - Minor incident with minimal impact</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="severity" value="medium" class="mr-2">
                                    <span>Medium - Moderate incident requiring attention</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="severity" value="high" class="mr-2">
                                    <span>High - Serious incident requiring immediate action</span>
                                </label>
                            </div>
                        </div>

                        <div class="mb-ss-md">
                            <label class="block healthcare-sm font-medium text-healthcare-primary mb-2">Contributing Factors</label>
                            <div class="space-y-ss-sm">
                                <label class="flex items-center">
                                    <input type="checkbox" name="factors" value="equipment" class="mr-2">
                                    <span>Equipment failure</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" name="factors" value="training" class="mr-2">
                                    <span>Inadequate training</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" name="factors" value="procedure" class="mr-2">
                                    <span>Procedure not followed</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" name="factors" value="environment" class="mr-2">
                                    <span>Environmental factors</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" name="factors" value="communication" class="mr-2">
                                    <span>Communication breakdown</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Review & Submit -->
                <div data-step="4">
                    <h2 class="header-h2 text-healthcare-primary mb-ss-lg text-center">Review & Submit</h2>
                    
                    <div class="bg-healthcare-background p-ss-md rounded-lg mb-ss-md">
                        <h3 class="header-h3 mb-ss-sm">Summary</h3>
                        <div class="space-y-ss-sm healthcare-sm">
                            <p><strong>Participant:</strong> <span id="summaryParticipant">-</span></p>
                            <p><strong>Location:</strong> <span id="summaryLocation">-</span></p>
                            <p><strong>Date/Time:</strong> <span id="summaryDateTime">-</span></p>
                            <p><strong>Description:</strong> <span id="summaryDescription">-</span></p>
                            <p><strong>Severity:</strong> <span id="summarySeverity">-</span></p>
                            <p><strong>Contributing Factors:</strong> <span id="summaryFactors">-</span></p>
                        </div>
                    </div>

                    <div class="healthcare-alert mb-ss-md">
                        <strong>Confirmation:</strong> Please review all details above before submitting. This report will be processed immediately and cannot be edited after submission.
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="flex flex-col-reverse sm:flex-row justify-between gap-ss-sm mt-ss-xl">
                    <button class="ss-btn ss-btn-outline w-full sm:w-auto" id="prevBtn" style="display: none;">
                        Previous
                    </button>
                    <button class="ss-btn ss-btn-primary w-full sm:w-auto sm:ml-auto" id="nextBtn">
                        Next Step
                    </button>
                </div>

            </div>
        </section>

        <!-- Implementation Notes Section -->
        <section class="ss-section">
            <h2 class="header-h2 text-healthcare-primary mb-ss-lg">Implementation Notes</h2>
            
            <div class="healthcare-alert mb-ss-md">
                <strong>Design Decisions:</strong> Clean 4-step progressive disclosure with clear visual hierarchy and validation.
            </div>
            
            <div class="healthcare-success">
                <strong>Accessibility:</strong> Full keyboard navigation, screen reader labels, and WCAG 2.1 AA compliance.
            </div>
            
            <!-- Notes list -->
            <ul class="mt-ss-md space-y-ss-sm healthcare-base text-gray-700">
                <li class="flex items-start gap-ss-sm">
                    <span class="ss-text-teal font-bold">•</span>
                    Progressive disclosure reduces cognitive load
                </li>
                <li class="flex items-start gap-ss-sm">
                    <span class="ss-text-teal font-bold">•</span>
                    Visual progress indicators provide clear feedback
                </li>
                <li class="flex items-start gap-ss-sm">
                    <span class="ss-text-teal font-bold">•</span>
                    Form validation prevents incomplete submissions
                </li>
                <li class="flex items-start gap-ss-sm">
                    <span class="ss-text-teal font-bold">•</span>
                    Responsive design works on desktop and mobile
                </li>
            </ul>
        </section>
        
    </main>

    <!-- Footer -->
    <footer class="bg-healthcare-surface border-t border-gray-200 py-ss-lg mt-ss-3xl">
        <div class="max-w-ss-content mx-auto px-ss-lg text-center">
            <p class="healthcare-sm text-gray-500">
                SupportSignal UI Spike • Wizard Component - Basic Version
            </p>
            <p class="healthcare-xs text-gray-400 mt-ss-xs">
                Source: <code>/docs/ui-spikes/wizard/version-01-basic.html</code>
            </p>
        </div>
    </footer>

    <script>
        // Initialize Lucide icons if used
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }

        // Wizard Navigation Logic
        let currentStep = 1;
        const totalSteps = 4;

        function updateStepIndicators(step) {
            const indicators = document.querySelectorAll('#step-indicators > div:nth-child(odd)');
            const connectors = document.querySelectorAll('#step-indicators > div:nth-child(even)');
            
            indicators.forEach((indicator, index) => {
                const stepNumber = index + 1;
                if (stepNumber < step) {
                    // Completed step
                    indicator.className = 'w-8 h-8 rounded-full bg-ss-success text-white flex items-center justify-center text-sm font-semibold';
                    indicator.innerHTML = '✓';
                } else if (stepNumber === step) {
                    // Current step
                    indicator.className = 'w-8 h-8 rounded-full bg-ss-teal text-white flex items-center justify-center text-sm font-semibold';
                    indicator.innerHTML = stepNumber.toString();
                } else {
                    // Upcoming step
                    indicator.className = 'w-8 h-8 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm font-semibold';
                    indicator.innerHTML = stepNumber.toString();
                }
            });

            // Update connectors
            connectors.forEach((connector, index) => {
                if (index + 1 < step) {
                    connector.className = 'w-8 h-0.5 bg-ss-success';
                } else {
                    connector.className = 'w-8 h-0.5 bg-gray-300';
                }
            });
        }

        function updateSummary() {
            document.getElementById('summaryParticipant').textContent = 
                document.getElementById('participantName').value || '-';
            document.getElementById('summaryLocation').textContent = 
                document.getElementById('location').value || '-';
            document.getElementById('summaryDateTime').textContent = 
                document.getElementById('dateTime').value || '-';
            document.getElementById('summaryDescription').textContent = 
                document.getElementById('description').value || '-';
            
            const severity = document.querySelector('input[name="severity"]:checked');
            document.getElementById('summarySeverity').textContent = 
                severity ? severity.value.charAt(0).toUpperCase() + severity.value.slice(1) : '-';
            
            const factors = Array.from(document.querySelectorAll('input[name="factors"]:checked'))
                .map(cb => cb.value);
            document.getElementById('summaryFactors').textContent = 
                factors.length > 0 ? factors.join(', ') : 'None selected';
        }

        function showStep(step) {
            // Hide all steps
            document.querySelectorAll('[data-step]').forEach(el => {
                el.style.display = 'none';
            });
            
            // Show current step
            document.querySelector(`[data-step="${step}"]`).style.display = 'block';
            
            // Update progress bar
            const progress = (step / totalSteps) * 100;
            document.querySelector('.ss-progress-bar').style.width = progress + '%';
            
            // Update step counter and percentage
            document.querySelector('.step-counter').textContent = `Step ${step} of ${totalSteps}`;
            document.querySelector('.progress-percentage').textContent = `${progress}% Complete`;
            
            // Update step indicators
            updateStepIndicators(step);
            
            // Update button visibility and text
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.style.display = step === 1 ? 'none' : 'inline-flex';
            
            if (step === totalSteps) {
                nextBtn.textContent = 'Submit Report';
                nextBtn.className = 'ss-btn ss-btn-success';
            } else {
                nextBtn.textContent = 'Next Step';
                nextBtn.className = 'ss-btn ss-btn-primary';
            }

            // Update summary if on step 4
            if (step === 4) {
                updateSummary();
            }
        }

        function validateStep(step) {
            const requiredFields = {
                1: ['participantName', 'location'],
                2: ['description'],
                3: [],
                4: []
            };

            const fields = requiredFields[step] || [];
            for (const fieldId of fields) {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    field.focus();
                    alert(`Please fill in the ${field.previousElementSibling.textContent.replace(' *', '')} field.`);
                    return false;
                }
            }
            return true;
        }

        // Next button handler
        document.getElementById('nextBtn').onclick = () => {
            if (currentStep === totalSteps) {
                // Submit the form
                alert('Report submitted successfully! This is a demo - no actual submission occurred.');
                return;
            }

            if (validateStep(currentStep)) {
                if (currentStep < totalSteps) {
                    currentStep++;
                    showStep(currentStep);
                }
            }
        };

        // Previous button handler
        document.getElementById('prevBtn').onclick = () => {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        };

        // Initialize the wizard
        document.addEventListener('DOMContentLoaded', function() {
            console.log('SupportSignal Wizard loaded');
            showStep(1);
        });
    </script>
    
</body>
</html>